async function loadProfiles() { try { const res = await fetch("data/items.json"); if (!res.ok) throw new Error("Failed to load data"); const data = await res.json(); const profiles = document.getElementById("profiles"); const search = document.getElementById("search"); function displayProfiles(list) { profiles.innerHTML = list.map(p => ` <div class="card"> <img src="${p.image}" alt="${p.name}" loading="lazy" width="200"> <h3>${p.name}, ${p.age}</h3> <p>${p.location}</p> <p>${p.bio}</p> </div> `).join(""); } function renderProfiles(profiles) { const container = document.getElementById("profiles"); container.innerHTML = ""; profiles.forEach(profile => { const card = document.createElement("div"); card.classList.add("profile-card"); card.innerHTML = ` <img src="${profile.image}" alt="${profile.name}"> <h3>${profile.name}</h3> <p>${profile.location}</p> `; card.addEventListener("click", () => { openModal(profile); }); container.appendChild(card); }); } function openModal(profile) { document.getElementById("modalImage").src = profile.image; document.getElementById("modalName").textContent = profile.name; document.getElementById("modalAge").textContent = profile.age; document.getElementById("modalLocation").textContent = profile.location; document.getElementById("modalBio").textContent = profile.bio; document.getElementById("profileModal").classList.remove("hidden"); } document.getElementById("closeModal").addEventListener("click", () => { document.getElementById("profileModal").classList.add("hidden"); }); window.addEventListener("click", (e) => { if (e.target.id === "profileModal") { document.getElementById("profileModal").classList.add("hidden"); } }); displayProfiles(data); search.addEventListener("input", e => { const value = e.target.value.toLowerCase(); const filtered = data.filter(p => p.name.toLowerCase().includes(value) || p.location.toLowerCase().includes(value) ); displayProfiles(filtered); }); } catch (err) { console.error("Error:", err); } } document.addEventListener("DOMContentLoaded", loadProfiles);